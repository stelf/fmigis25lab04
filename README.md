# PostGIS –∫—ä–º –£–µ–± –ö–∞—Ä—Ç–∞: –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –ì–µ–æ–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–∏ –î–∞–Ω–Ω–∏

–¢–æ–∑–∏ –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—è —Ä–µ—à–µ–Ω–∏–µ –∑–∞ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –≥–µ–æ–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–∏ –¥–∞–Ω–Ω–∏ –æ—Ç PostGIS –±–∞–∑–∞ –¥–∞–Ω–Ω–∏ –≤—ä—Ä—Ö—É –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ —É–µ–± –∫–∞—Ä—Ç–∞.

## üéØ –û—Å–Ω–æ–≤–Ω–∞ —Ü–µ–ª

–ü—Ä–æ–µ–∫—Ç—ä—Ç —Ü–µ–ª–∏ –¥–∞ –ø–æ–∫–∞–∂–µ –∫–æ–ª–∫–æ –µ –ª–µ—Å–µ–Ω –ø—Ä–æ—Ü–µ—Å–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∑—è–≤–∞–Ω–µ –Ω–∞ –≥–µ–æ–≥—Ä–∞—Ñ—Å–∫–∏ –æ–±–µ–∫—Ç–∏ (—Ç–æ—á–∫–∏, –ª–∏–Ω–∏–∏, –ø–æ–ª–∏–≥–æ–Ω–∏), —Å—ä—Ö—Ä–∞–Ω–µ–Ω–∏ –≤ PostGIS. –¢–µ–∫—É—â–∞—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–∑–≤–ª–∏—á–∞ –¥–∞–Ω–Ω–∏ –æ—Ç —Ç–∞–±–ª–∏—Ü–∞—Ç–∞ `public.jp_gari` –∏ –≥–∏ –ø–æ–∫–∞–∑–≤–∞ –Ω–∞ —É–µ–±–∫–∞—Ä—Ç–∞.

## üöÄ –°—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ

### 1. –ù–∞—Å—Ç—Ä–æ–π–≤–∞–Ω–µ –¥–æ—Å—Ç—ä–ø –¥–æ –°–£–ë–î:

*   –ù–µ–æ–±—Ö–æ–¥–∏–º–∞ –µ –∏–Ω—Å—Ç–∞–ª–∞—Ü–∏—è –Ω–∞ PostgreSQL —Å —Ä–∞–∑—à–∏—Ä–µ–Ω–∏–µ PostGIS.
*   –£–≤–µ—Ä–µ—Ç–µ —Å–µ, —á–µ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞ —Ç–∞–±–ª–∏—Ü–∞ `public.jp_gari`, —Å—ä–¥—ä—Ä–∂–∞—â–∞ –∫–æ–ª–æ–Ω–∞ `geom` (—Ç–∏–ø –≥–µ–æ–º–µ—Ç—Ä–∏—è) –∏ `tradename` (—Ç–µ–∫—Å—Ç–æ–≤–æ –ø–æ–ª–µ –∑–∞ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ). –ó–∞ —É–ª–µ—Å–Ω–µ–Ω–∏–µ, –º–æ–∂–µ—Ç–µ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–µ–Ω–∏—è `jp_gari_dump.sql` —Ñ–∞–π–ª –∑–∞ —Å—ä–∑–¥–∞–≤–∞–Ω–µ –∏ –ø–æ–ø—ä–ª–≤–∞–Ω–µ –Ω–∞ —Ç–∞–±–ª–∏—Ü–∞—Ç–∞.
*   –°—ä–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª –≤ –æ—Å–Ω–æ–≤–Ω–∞—Ç–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –Ω–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–º–æ–∂–µ –¥–∞ –∫–æ–ø–∏—Ä–∞—Ç–µ `.env.example`, –∞–∫–æ –µ –Ω–∞–ª–∏—á–µ–Ω) –∏ –ø–æ–ø—ä–ª–Ω–µ—Ç–µ —Å–ª–µ–¥–Ω–∏—Ç–µ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏ –∑–∞ –≤—Ä—ä–∑–∫–∞ —Å –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏:
    ```env
    PGUSER=–ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª
    PGHOST=–∞–¥—Ä–µ—Å_–Ω–∞_—Å—ä—Ä–≤—ä—Ä–∞
    PGDATABASE=–∏–º–µ_–Ω–∞_–±–∞–∑–∞—Ç–∞_–¥–∞–Ω–Ω–∏
    PGPASSWORD=–≤–∞—à–∞—Ç–∞_–ø–∞—Ä–æ–ª–∞
    PGPORT=5432 # –∏–ª–∏ –¥—Ä—É–≥ –ø–æ—Ä—Ç, –∞–∫–æ –µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–Ω
    PGCLIENTENCODING=UTF8
    PYTHON_PORT=8686 # –ü–æ—Ä—Ç –∑–∞ —É–µ–± —Å—ä—Ä–≤—ä—Ä–∞
    ```

### 2. –ò–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω–µ –Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

#### Python –±–µ–∫–µ–Ω–¥:
*   –ü—Ä–µ–ø–æ—Ä—ä—á–∏—Ç–µ–ª–Ω–æ –µ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ—Ç–æ –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª–Ω–∞ —Å—Ä–µ–¥–∞ (virtual environment).
*   –ò–Ω—Å—Ç–∞–ª–∏—Ä–∞–π—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∏—Ç–µ Python –ø–∞–∫–µ—Ç–∏. –ê–∫–æ –µ –Ω–∞–ª–∏—á–µ–Ω `requirements.txt` —Ñ–∞–π–ª:
    ```bash
    pip install -r requirements.txt
    ```
    –í –ø—Ä–æ—Ç–∏–≤–µ–Ω —Å–ª—É—á–∞–π, –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞–π—Ç–µ –æ—Å–Ω–æ–≤–Ω–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
    ```bash
    pip install Flask psycopg-pool python-dotenv
    ```

#### Node.js –±–µ–∫–µ–Ω–¥:
*   –£–≤–µ—Ä–µ—Ç–µ —Å–µ, —á–µ –∏–º–∞—Ç–µ –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω Node.js –∏ npm.
*   –ò–Ω—Å—Ç–∞–ª–∏—Ä–∞–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏—Ç–µ –æ—Ç `package.json` (–∞–∫–æ –µ –Ω–∞–ª–∏—á–µ–Ω):
    ```bash
    npm install
    ```
    (–ê–∫–æ –Ω—è–º–∞ `package.json`, –º–æ–∂–µ –¥–∞ —Å–µ –Ω–∞–ª–æ–∂–∏ —Ä—ä—á–Ω–æ –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω–µ –Ω–∞ –ø–∞–∫–µ—Ç–∏ –∫–∞—Ç–æ `express`, `pg` –∏ –¥—Ä.)

### 3. –°—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ:

–ò–∑–±–µ—Ä–µ—Ç–µ –µ–¥–∏–Ω –æ—Ç –±–µ–∫–µ–Ω–¥–∏—Ç–µ:

#### Python –±–µ–∫–µ–Ω–¥:
*   –ò–∑–ø—ä–ª–Ω–µ—Ç–µ Python —Å–∫—Ä–∏–ø—Ç–∞:
    ```bash
    python postgis2web.py
    ```

#### Node.js –±–µ–∫–µ–Ω–¥:
*   –ò–∑–ø—ä–ª–Ω–µ—Ç–µ Node.js —Å–∫—Ä–∏–ø—Ç–∞ (–æ–±–∏–∫–Ω–æ–≤–µ–Ω–æ `postgis2web.js`):
    ```bash
    node postgis2web.js 
    ```
    (–ò–ª–∏ `npm start`, –∞–∫–æ –µ –¥–µ—Ñ–∏–Ω–∏—Ä–∞–Ω–æ –≤ `package.json`)

*   –°–ª–µ–¥ —Å—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –∏–∑–±—Ä–∞–Ω–∏—è –±–µ–∫–µ–Ω–¥, –æ—Ç–≤–æ—Ä–µ—Ç–µ —É–µ–± –±—Ä–∞—É–∑—ä—Ä –∏ –Ω–∞–≤–∏–≥–∏—Ä–∞–π—Ç–µ –¥–æ `http://localhost:8686` (–∏–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–Ω–∏—è –ø–æ—Ä—Ç –≤ `.env` - `PYTHON_PORT` –∑–∞ Python –∏–ª–∏ —Å—ä–æ—Ç–≤–µ—Ç–Ω–∏—è –∑–∞ Node.js, –∞–∫–æ –µ —Ä–∞–∑–ª–∏—á–µ–Ω).

## üõ†Ô∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

*   **–ë–µ–∫–µ–Ω–¥:** –ü—Ä–æ–µ–∫—Ç—ä—Ç –ø—Ä–µ–¥–ª–∞–≥–∞ –¥–≤–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞ –±–µ–∫–µ–Ω–¥–∞:
    *   **Python:** –ò–∑–ø–æ–ª–∑–≤–∞ Flask –∑–∞ –æ—Å–∏–≥—É—Ä—è–≤–∞–Ω–µ –Ω–∞ API –∫—Ä–∞–π–Ω–∞ —Ç–æ—á–∫–∞ (`/gari`), –∫–æ—è—Ç–æ –≤—Ä—ä—â–∞ –¥–∞–Ω–Ω–∏ –≤—ä–≤ —Ñ–æ—Ä–º–∞—Ç GeoJSON.
    *   **Node.js:** (–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞ —Å–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ `postgis2web.js`) –ò–∑–ø–æ–ª–∑–≤–∞ Express.js –∏–ª–∏ –ø–æ–¥–æ–±–Ω–∞ —Ä–∞–º–∫–∞ –∑–∞ —Å—ä—â–∞—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç.
*   **–§—Ä–æ–Ω—Ç–µ–Ω–¥:** –ò–∑–ø–æ–ª–∑–≤–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–µ–Ω HTML (`public/index.html`), JavaScript (`public/gislogic.js`) –∑–∞ –ª–æ–≥–∏–∫–∞—Ç–∞ –Ω–∞ –∫–∞—Ä—Ç–∞—Ç–∞ –∏ CSS –∑–∞ —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è. –ö–∞—Ä—Ç–∞—Ç–∞ —Å–µ —Ä–µ–Ω–¥–∏—Ä–∞ —Å –ø–æ–º–æ—â—Ç–∞ –Ω–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ç–∞ [LeafletJS](https://leafletjs.com/).
*   **–ë–∞–∑–∞ –¥–∞–Ω–Ω–∏:** PostGIS.

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–û—Å–Ω–æ–≤–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –∑–∞ –≤—Ä—ä–∑–∫–∞ —Å –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏ –∏ –ø–æ—Ä—Ç—ä—Ç –Ω–∞ —É–µ–± —Å—ä—Ä–≤—ä—Ä–∞ —Å–µ —É–ø—Ä–∞–≤–ª—è–≤–∞—Ç —á—Ä–µ–∑ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏ –Ω–∞ —Å—Ä–µ–¥–∞—Ç–∞ –≤ `.env` —Ñ–∞–π–ª–∞.

## ü§î –í—ä–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∑–∞ —Ä–∞–∑–≤–∏—Ç–∏–µ

–ü—Ä–æ–µ–∫—Ç—ä—Ç –º–æ–∂–µ –¥–∞ –±—ä–¥–µ –¥–æ—Ä–∞–∑–≤–∏—Ç —á—Ä–µ–∑:
*   –ò–Ω—Ç–µ–≥—Ä–∏—Ä–∞–Ω–µ –Ω–∞ –¥–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–∏ —Å–ª–æ–µ–≤–µ –æ—Ç —Ä–∞–∑–ª–∏—á–Ω–∏ —Ç–∞–±–ª–∏—Ü–∏ –≤ PostGIS.
*   –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –ø–æ-—Å–ª–æ–∂–Ω–∏ SQL –∑–∞—è–≤–∫–∏ –∑–∞ –∏–∑–≤–ª–∏—á–∞–Ω–µ –∏ —Ñ–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ –Ω–∞ –¥–∞–Ω–Ω–∏.
*   –ü–æ–¥–æ–±—Ä—è–≤–∞–Ω–µ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –¥–æ–±–∞–≤—è–Ω–µ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç–∏ –∫–∞—Ç–æ —Ç—ä—Ä—Å–µ–Ω–µ, —Ñ–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ –ø–æ –∞—Ç—Ä–∏–±—É—Ç–∏ –∏ –¥—Ä.
*   –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω–µ –Ω–∞ –≤–∏–∑—É–∞–ª–Ω–∏—Ç–µ –µ–ª–µ–º–µ–Ω—Ç–∏ –Ω–∞ –∫–∞—Ä—Ç–∞—Ç–∞, –≤–∫–ª—é—á–∏—Ç–µ–ª–Ω–æ –∏–∫–æ–Ω–∏—Ç–µ (`normal.png`, `hover.png` –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `public`).
